"use strict";(self.webpackChunkchurchvest_v2=self.webpackChunkchurchvest_v2||[]).push([[270],{1270:(je,C,a)=>{a.r(C),a.d(C,{AuthModule:()=>ze});var u=a(8583),l=a(4655),e=a(7716);let F=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),n})();var r=a(3679),P=a(2340),p=a(3498),m=a(2290),_=a(5245),T=a(7446),d=a(7423),h=a(773);function Y(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA()}}function Q(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function E(n,i){1&n&&e._UZ(0,"mat-spinner")}const w=function(n){return{"is-invalid":n}};let M=(()=>{class n{constructor(t,o,s,c){this.authServ=t,this.toastr=o,this.fb=s,this.router=c,this.show=!1,this.isBusy=!1,this.isChecked=!0,this.form=new r.cw({}),this.form=this.fb.group({email:["",[r.kI.email,r.kI.required]],password:["",r.kI.required]})}ngOnInit(){}get value(){return this.form.getRawValue()}password(){this.show=!this.show}onSubmit(){this.isBusy=!0,this.form.valid&&this.authServ.login(this.value).subscribe(t=>{const{data:o}=t;this.form.reset(),localStorage.setItem("token",t.access_token),localStorage.setItem("user_details",JSON.stringify(o)),localStorage.setItem("isLoggedIn","true"),this.getLink()},t=>{this.toastr.error(t,"Message"),this.isBusy=!1},()=>{this.isBusy=!1,this.form.reset()})}getLink(){this.url=`${P.N.managementbaseUrl}`;let s,t=window.location.origin;s=window.location.href.replace(`${t}/onboarding/api`,this.url),this.verifyUser(s)}verifyUser(t){this.authServ.verify(t).subscribe(o=>{if(this.isBusy=!1,"success"===o.status){this.toastr.success("Email Verification Successful","Message"),localStorage.setItem("user_details",JSON.stringify(o.data)),localStorage.setItem("isLoggedIn","true");let s=JSON.parse(localStorage.getItem("user_details"));if(0!==s.memberships.length){let c=s.memberships.filter(g=>"admin"===g.role);1===c.length?(localStorage.setItem("user_details",JSON.stringify(o.data)),localStorage.setItem("user_church",JSON.stringify(c[0])),this.router.navigate(["/portal/activity"])):(this.toastr.info("You are an admin in multiple churches. Kindly select a church to continue","Message"),this.router.navigate(["/onboarding/login"]))}}},o=>{o&&this.toastr.error("Oops! Email verification not successful","Message")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e),e.Y36(m._W),e.Y36(r.qu),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-verify"]],decls:37,vars:13,consts:[[1,"auth"],[1,"grid","grid--1fr--2fr"],[1,"container"],[1,"d-flex","w-400","pt-5"],["routerLink","/",1,"return-link"],[1,"form-wrap","w-400"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","mb-3"],[1,"f12","txt-grey"],[1,"input"],["type","email","placeholder","Enter email","formControlName","email",3,"ngClass"],["placeholder","Enter password","formControlName","password",3,"type","ngClass"],["class","toggle-btn txt-grey",3,"click",4,"ngIf"],[1,"d-flex","align-items-center","my-4"],[3,"checked"],["type","submit","mat-flat-button","",1,"w-100",3,"disabled"],[4,"ngIf"],[1,"banner"],[1,"center"],["routerLink","/"],["src","assets/img/png/light-logo.png","alt","logo"],[1,"toggle-btn","txt-grey",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"a",4),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_backspace"),e.qZA(),e._uU(7,"Home Page"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"form",6),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(10,"div",7),e.TgZ(11,"h2"),e._uU(12," Login To "),e._UZ(13,"br"),e._uU(14," Your Account "),e.qZA(),e.TgZ(15,"p",8),e._uU(16," Kindly complete the email verification process by logging in to your dashboard "),e.qZA(),e.qZA(),e.TgZ(17,"div",9),e.TgZ(18,"label"),e._uU(19,"Email Address"),e.qZA(),e._UZ(20,"input",10),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"label"),e._uU(23,"Password"),e.qZA(),e._UZ(24,"input",11),e.YNc(25,Y,3,0,"span",12),e.YNc(26,Q,3,0,"span",12),e.qZA(),e.TgZ(27,"div",13),e.TgZ(28,"mat-checkbox",14),e._uU(29,"Stay signed in"),e.qZA(),e.qZA(),e.TgZ(30,"button",15),e._uU(31," Login To Account "),e.YNc(32,E,1,0,"mat-spinner",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e.TgZ(34,"div",18),e.TgZ(35,"a",19),e._UZ(36,"img",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(11),e.Q6J("ngClass",e.VKq(9,w,o.form.controls.email.hasError("required")&&!o.form.controls.email.valid&&o.form.controls.email.touched)),e.xp6(4),e.Q6J("type",o.show?"text":"password")("ngClass",e.VKq(11,w,o.form.controls.password.hasError("required")&&o.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",!o.show),e.xp6(1),e.Q6J("ngIf",o.show),e.xp6(2),e.Q6J("checked",o.isChecked),e.xp6(2),e.Q6J("disabled",!o.form.valid),e.xp6(2),e.Q6J("ngIf",o.isBusy))},directives:[l.yS,_.Hw,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,u.mk,u.O5,T.oG,d.lW,h.Ou],styles:[""]}),n})();const x=n=>n==n.toLowerCase(),A=n=>/\d/.test(n),q=n=>!!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(n);var f=a(7970);function L(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",6),e._uU(2," Verification email sent to:"),e.qZA(),e.BQk())}function B(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",6),e._uU(2," Password reset link sent to:"),e.qZA(),e.BQk())}let b=(()=>{class n{constructor(t,o){this._bottomSheetRef=t,this.data=o}ngOnInit(){}dismiss(t){this._bottomSheetRef.dismiss(),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.oL),e.Y36(f.OG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bottom-sheet"]],decls:13,vars:3,consts:[[1,"center","h-250"],[1,"d-flex","my-2"],[4,"ngIf"],[1,"ms-2"],[1,"d-flex","mt-auto"],["mat-stroked-button","",1,"w-100",3,"click"],[1,"f12","txt-grey"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-nav-list"),e.TgZ(1,"div",0),e.TgZ(2,"h2"),e._uU(3,"Check Your Mail!"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,L,3,0,"ng-container",2),e.YNc(6,B,3,0,"ng-container",2),e.TgZ(7,"a"),e.TgZ(8,"span",3),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"button",5),e.NdJ("click",function(c){return o.dismiss(c)}),e._uU(12," Dismiss "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf","verification_link"==o.data.type),e.xp6(1),e.Q6J("ngIf","reset_link"==o.data.type),e.xp6(3),e.Oqu(o.data.data))},directives:[u.O5,d.lW],styles:[".center[_ngcontent-%COMP%]{display:flex;padding:2em;flex-direction:column;justify-content:center}.center[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:34px;color:#ccc6}.center[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5c278b}.center.h-250[_ngcontent-%COMP%]{height:250px}"]}),n})();var k=a(7322);function O(n,i){if(1&n&&(e.TgZ(0,"div",30),e.TgZ(1,"span",31),e._uU(2),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.recordMsg)}}function R(n,i){1&n&&(e.TgZ(0,"mat-icon",38),e._uU(1,"check_circle"),e.qZA())}function V(n,i){1&n&&(e.TgZ(0,"mat-icon",39),e._uU(1,"cancel"),e.qZA())}function H(n,i){1&n&&(e.TgZ(0,"mat-icon",38),e._uU(1,"check_circle"),e.qZA())}function D(n,i){1&n&&(e.TgZ(0,"mat-icon",39),e._uU(1,"cancel"),e.qZA())}function W(n,i){1&n&&(e.TgZ(0,"mat-icon",38),e._uU(1,"check_circle"),e.qZA())}function G(n,i){1&n&&(e.TgZ(0,"mat-icon",39),e._uU(1,"cancel"),e.qZA())}function K(n,i){1&n&&(e.TgZ(0,"mat-icon",38),e._uU(1,"check_circle"),e.qZA())}function z(n,i){1&n&&(e.TgZ(0,"mat-icon",39),e._uU(1,"cancel"),e.qZA())}function X(n,i){if(1&n&&(e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.YNc(2,R,2,0,"mat-icon",34),e.YNc(3,V,2,0,"mat-icon",35),e.TgZ(4,"span",36),e._uU(5,"Password should contain 8 characters or more"),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.YNc(7,H,2,0,"mat-icon",34),e.YNc(8,D,2,0,"mat-icon",35),e.TgZ(9,"span",36),e._uU(10,"Password should contain at least one upper case character"),e.qZA(),e.qZA(),e.TgZ(11,"div",33),e.YNc(12,W,2,0,"mat-icon",34),e.YNc(13,G,2,0,"mat-icon",35),e.TgZ(14,"span",36),e._uU(15,"Password should contain at least a number"),e.qZA(),e.qZA(),e.TgZ(16,"div",37),e.YNc(17,K,2,0,"mat-icon",34),e.YNc(18,z,2,0,"mat-icon",35),e.TgZ(19,"span",36),e._uU(20,"Password should contain at least one special character"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.validatePassword.length>=8),e.xp6(1),e.Q6J("ngIf",t.validatePassword.length<8),e.xp6(4),e.Q6J("ngIf",!t.upperCaseChar),e.xp6(1),e.Q6J("ngIf",t.upperCaseChar),e.xp6(4),e.Q6J("ngIf",t.numberChar),e.xp6(1),e.Q6J("ngIf",!t.numberChar),e.xp6(4),e.Q6J("ngIf",t.specialChar),e.xp6(1),e.Q6J("ngIf",!t.specialChar)}}function $(n,i){1&n&&(e.TgZ(0,"span",40),e.TgZ(1,"mat-icon"),e._uU(2,"check_circle"),e.qZA(),e.qZA())}function j(n,i){1&n&&e._UZ(0,"mat-spinner")}function ee(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().validateEmail()}),e._uU(2," Verify "),e.YNc(3,j,1,0,"mat-spinner",15),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.controls.email.valid),e.xp6(2),e.Q6J("ngIf",t.isBusy)}}function te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",52),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA()}}function ne(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",52),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function oe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",52),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA()}}function ie(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",52),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function se(n,i){1&n&&(e.TgZ(0,"mat-error",53),e._uU(1," Passwords do not match "),e.qZA())}function re(n,i){1&n&&e._UZ(0,"mat-spinner")}const v=function(n){return{"is-invalid":n}};function ae(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12),e.TgZ(2,"label"),e._uU(3,"Full Name"),e.qZA(),e._UZ(4,"input",42),e.qZA(),e.TgZ(5,"div",12),e.TgZ(6,"label"),e._uU(7,"Password"),e.qZA(),e.TgZ(8,"input",43),e.NdJ("input",function(){e.CHM(t);const s=e.oxw();return s.checkPassword(s.passwordValue)}),e.qZA(),e.YNc(9,te,3,0,"span",44),e.YNc(10,ne,3,0,"span",44),e.qZA(),e.TgZ(11,"div",12),e.TgZ(12,"label"),e._uU(13,"Confirm Password"),e.qZA(),e._UZ(14,"input",45),e.YNc(15,oe,3,0,"span",44),e.YNc(16,ie,3,0,"span",44),e.YNc(17,se,2,0,"mat-error",46),e.qZA(),e.TgZ(18,"div",47),e.TgZ(19,"mat-checkbox",48),e._uU(20,"I agree to the"),e.qZA(),e.TgZ(21,"span",49),e.TgZ(22,"a",50),e._uU(23,"terms & conditions"),e.qZA(),e._uU(24,"of churchvest"),e.qZA(),e.qZA(),e.TgZ(25,"button",51),e._uU(26," Create Account "),e.YNc(27,re,1,0,"mat-spinner",15),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(13,v,t.form.controls.name.hasError("required")&&t.form.controls.name.touched)),e.xp6(4),e.Q6J("type",t.show?"text":"password")("ngClass",e.VKq(15,v,t.form.controls.password.hasError("required")&&t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(4),e.Q6J("type",t.show?"text":"password")("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(1),e.Q6J("ngIf",t.form.hasError("notSame")&&t.form.controls.confirmPassword.touched),e.xp6(2),e.Q6J("checked",t.isChecked),e.xp6(6),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.Q6J("ngIf",t.isBusy)}}function ce(n,i){1&n&&(e.ynx(0),e.TgZ(1,"p",54),e._uU(2,"This email already exists."),e.qZA(),e.TgZ(3,"div",55),e.TgZ(4,"a",56),e._uU(5,"Login to Existing Church"),e.qZA(),e.qZA(),e.BQk())}let le=(()=>{class n{constructor(t,o,s,c){this.authServ=t,this.toastr=o,this.fb=s,this.router=c,this.show=!1,this.isBusy=!1,this.validate=!1,this.recordFound=!1,this.isChecked=!0,this.matcher=new U,this._validateCaps=x,this._hasNumber=A,this._checkForSpecialChars=q,this.form=new r.cw({}),this.checkPasswordMatch=g=>g.get("password").value===g.get("confirmPassword").value?null:{notSame:!0},this.form=this.fb.group({email:["",[r.kI.email,r.kI.required]],name:["",r.kI.required],password:["",r.kI.required],confirmPassword:[""]},{validators:this.checkPasswordMatch})}ngOnInit(){}get value(){return this.form.getRawValue()}get passwordValue(){return this.form.controls.password.value}checkPassword(t){this.validatePassword=t,this.upperCaseChar=this._validateCaps(t),this.numberChar=this._hasNumber(t),this.specialChar=this._checkForSpecialChars(t)}get emailCtrInstance(){return this.form.get("email")}password(){this.show=!this.show}resetControl(){"INVALID"==this.emailCtrInstance.status&&(this.recordFound=!1)}validateEmail(){this.isBusy=!0,this.authServ.resolveUser({email:this.emailCtrInstance.value}).subscribe(({message:o,data:s})=>{this.isBusy=!1,0==s.length?(this.recordData=s,this.recordFound=!0):(this.recordFound=!0,this.recordData=s,this.recordMsg=o,this.toastr.info(o,"Message",{timeOut:3e3}))},()=>{this.isBusy=!1,this.recordFound=!1})}onSubmit(){this.isBusy=!0,this.form.valid&&this.authServ.register(this.value).subscribe(t=>{const{data:o}=t;this.recordFound=!1,this.toastr.success("Registration successful","Message"),this.form.reset(),localStorage.setItem("token",t.access_token),localStorage.setItem("user_details",JSON.stringify(o)),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user_church",JSON.stringify(this.selectedChurch)),this.navigate(t.data.email)},t=>{this.toastr.error(t,"Message"),this.isBusy=!1},()=>{this.isBusy=!1,this.form.reset()})}navigate(t){this.router.navigate(["/onboarding/verify-email"],{queryParams:{query:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e),e.Y36(m._W),e.Y36(r.qu),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:75,vars:10,consts:[[1,"auth"],[1,"grid","grid--1fr--2fr"],[1,"container"],[1,"d-flex","w-400","pt-5"],["routerLink","/",1,"return-link"],[1,"form-wrap","w-400"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","mb-3"],[1,"f12","txt-grey"],["routerLink","/onboarding/login"],["class","mb-3",4,"ngIf"],["class","panel mb-3 p-3",4,"ngIf"],[1,"input"],["type","email","placeholder","Enter email","formControlName","email",3,"ngClass","input"],["class","toggle-btn txt-grey green",4,"ngIf"],[4,"ngIf"],[1,"banner"],[1,"center"],["routerLink","/"],["src","assets/img/png/light-logo.png","alt","logo"],["id","terms-condition","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-wrapper"],[1,"modal-content-wrap"],[1,"modal-body"],[1,"header-top","d-flex","justify-content-between","align-items-center","px-4","py-3"],[1,"title"],["data-bs-dismiss","modal",1,"cursor"],[1,"scroll","content","mt-2","w--600","p-2"],[1,"f12"],[1,"unordered"],[1,"mb-3"],[1,"f12","txt-green"],[1,"panel","mb-3","p-3"],[1,"d-flex","align-items-center","mb-2"],["class","txt-green",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"f12","text-grey","ms-2"],[1,"d-flex","align-items-center"],[1,"txt-green"],[1,"text-danger"],[1,"toggle-btn","txt-grey","green"],["type","submit","mat-stroked-button","",1,"w-100",3,"disabled","click"],["type","text","placeholder","Enter full name","formControlName","name",3,"ngClass"],["placeholder","Enter password","formControlName","password",3,"type","ngClass","input"],["class","toggle-btn txt-grey",3,"click",4,"ngIf"],["formControlName","confirmPassword","placeholder","Confirm password",3,"type","errorStateMatcher"],["class","f12 my-2",4,"ngIf"],[1,"d-flex","align-items-center","my-4"],[3,"checked"],[1,"link"],["data-bs-toggle","modal","data-bs-target","#terms-condition"],["type","submit","mat-flat-button","",1,"w-100",3,"disabled"],[1,"toggle-btn","txt-grey",3,"click"],[1,"f12","my-2"],[1,"f12","text-danger","my-3"],[1,"panel","d-flex","align-items-center","justify-content-center"],["routerLink","/onboarding/login",1,"f12"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"a",4),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_backspace"),e.qZA(),e._uU(7,"Home Page"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"form",6),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(10,"div",7),e.TgZ(11,"h2"),e._uU(12," Sign Up To "),e._UZ(13,"br"),e._uU(14," Use Churchvest "),e.qZA(),e.TgZ(15,"p",8),e._uU(16," I have an account already. "),e.TgZ(17,"a",9),e._uU(18,"LOGIN HERE"),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,O,3,1,"div",10),e.YNc(20,X,21,8,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label"),e._uU(23,"Email Address"),e.qZA(),e.TgZ(24,"input",13),e.NdJ("input",function(){return o.resetControl()}),e.qZA(),e.YNc(25,$,3,0,"span",14),e.qZA(),e.YNc(26,ee,4,2,"ng-container",15),e.YNc(27,ae,28,17,"ng-container",15),e.YNc(28,ce,6,0,"ng-container",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"div",17),e.TgZ(31,"a",18),e._UZ(32,"img",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",20),e.TgZ(34,"div",21),e.TgZ(35,"div",22),e.TgZ(36,"div",23),e.TgZ(37,"div",24),e.TgZ(38,"div",25),e._uU(39,"Terms & Conditions"),e.qZA(),e.TgZ(40,"mat-icon",26),e._uU(41,"close"),e.qZA(),e.qZA(),e.TgZ(42,"div",2),e.TgZ(43,"div",27),e.TgZ(44,"p",28),e._uU(45,"Last modified on 1 August 2021"),e.qZA(),e.TgZ(46,"p"),e.TgZ(47,"strong"),e._uU(48,"Note"),e.qZA(),e._uU(49," \u2013 These terms are applicable to the Churchvest trade site, where you can buy and sell your products. If you require Terms for the Churchvest (where you can buy/sell products) please go to www.churchvest/terms-conditions Welcome to Churchvest Please read these website Terms & Conditions carefully before using this website (the \u201cWebsite\u201d or \u201cChurchvest\u201d) and the services and tools offered by Haningburg Dreams Limited. (\u201cChurchvest\u201d). These Website Terms & Conditions (the \u201cTerms & Conditions\u201d) govern your access to and use of the Website, Churchvest products and services, and Churchvest.com mobile applications (together, \u201cChurchvest Services\u201d). Churchvest\u2019s Privacy Statement and its Consent to Arbitration and Governing Law are incorporated in the Terms & Conditions by reference and form part of the Terms & Conditions. Please read the Terms & Conditions carefully. By clicking as indicated below, you accept and agree to be bound by these Terms & Conditions. If you do not agree to be bound by these Terms & Conditions, you must not access or use the Website or any Churchvest Services. "),e.qZA(),e.TgZ(50,"h3"),e._uU(51,"General"),e.qZA(),e.TgZ(52,"p"),e._uU(53," Churchvest Services are for the use of persons who are 18 years of age or older only. When using Churchvest Services, you agree that: "),e.qZA(),e.TgZ(54,"ul",29),e.TgZ(55,"li"),e._uU(56," You are the legal owner or have permission of the owner to sell the items you are attempting to sell through Churchvest; "),e.qZA(),e.TgZ(57,"li"),e._uU(58," You are at least 18 years of age and reside in the Nigeria or one of its territories or possessions. If you do not meet these eligibility requirements, you must not access or use the Website; "),e.qZA(),e.TgZ(59,"li"),e._uU(60," You will not violate any laws, third party rights or our Terms & Conditions or other policies; "),e.qZA(),e.TgZ(61,"li"),e._uU(62," The information you provide will be truthful and accurate; "),e.qZA(),e.TgZ(63,"li"),e._uU(64," You will not impersonate any individual or provide false registration information; You will not transfer your account or user ID to another party without Churchvest\u2019s consent; "),e.qZA(),e.TgZ(65,"li"),e._uU(66," You will open and use no more than one account with Churchvest (multiple accounts are not permitted); "),e.qZA(),e.TgZ(67,"li"),e._uU(68," You are responsible for maintaining the confidentiality of your account information including your password; and "),e.qZA(),e.TgZ(69,"li"),e._uU(70,' You will not copy, modify, creative derivative works of, distribute, publicly perform or display, or otherwise exploit any content from Churchvest Services, except as explicitly permitted by these Terms & Conditions (see the section below titled "License" for more detail). '),e.qZA(),e.qZA(),e.TgZ(71,"p"),e._uU(72," We may transfer, assign, sub-contract or otherwise dispose of this contract, or any of our rights or obligations arising under it, at any time during the term of the contract at our discretion. You may not transfer, assign, or in any way dispose of this contract or any of your rights or obligations arising under it, without our express written prior consent, which may be electronically communicated by way of email. Churchvest reserves the absolute right to close your account, terminate this agreement, and cease doing business with you at its sole discretion and for any reason it determines. "),e.qZA(),e.TgZ(73,"p"),e._uU(74," Changes To The Terms And Conditions We may revise and update these Terms and Conditions from time to time in our sole discretion. All changes are effective immediately when we post them, and apply to all access to and use of the Website thereafter. Your continued use of the Website following the posting of revised Terms and Conditions means that you accept and agree to the changes. You are expected to check this each time you access this Website so you are aware of any changes, as they are binding on you. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(10),e.Q6J("ngIf",o.recordData&&0!==o.recordData.length),e.xp6(1),e.Q6J("ngIf",o.validatePassword),e.xp6(4),e.Q6J("ngClass",e.VKq(8,v,o.form.controls.email.hasError("required")&&!o.form.controls.email.valid&&o.form.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",o.recordFound),e.xp6(1),e.Q6J("ngIf",!o.recordFound),e.xp6(1),e.Q6J("ngIf",o.recordFound&&o.recordData&&0==o.recordData.length),e.xp6(1),e.Q6J("ngIf",o.recordData&&0!==o.recordData.length))},directives:[l.yS,_.Hw,r._Y,r.JL,r.sg,u.O5,r.Fj,r.JJ,r.u,u.mk,d.lW,h.Ou,T.oG,k.TO],styles:[".panel[_ngcontent-%COMP%]{padding:.5em;border-radius:10px;background:#fff;transition:.5s ease-in-out;box-shadow:0 1px 15px 2px #e0e0e0}.link[_ngcontent-%COMP%]{line-height:27px;font-size:14px}.link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 6px;cursor:pointer}"]}),n})();class U{isErrorState(i){var t,o,s;const c=!(!(null==i?void 0:i.invalid)||!(null===(t=null==i?void 0:i.parent)||void 0===t?void 0:t.dirty)),g=!(!(null===(o=null==i?void 0:i.parent)||void 0===o?void 0:o.invalid)||!(null===(s=null==i?void 0:i.parent)||void 0===s?void 0:s.dirty));return c||g}}function ue(n,i){1&n&&(e.TgZ(0,"span",19),e.TgZ(1,"mat-icon"),e._uU(2,"check_circle"),e.qZA(),e.qZA())}function ge(n,i){1&n&&e._UZ(0,"mat-spinner")}const I=function(n){return{"is-invalid":n}};function me(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e.TgZ(2,"form",11),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onResetEmail()}),e.TgZ(3,"div",12),e.TgZ(4,"h2"),e._uU(5,"Claim Back "),e._UZ(6,"br"),e._uU(7,"Your Account"),e.qZA(),e.TgZ(8,"p",13),e._uU(9," I remember my password now. "),e.TgZ(10,"a",14),e._uU(11,"LOGIN HERE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",15),e.TgZ(13,"label"),e._uU(14,"Email Address"),e.qZA(),e._UZ(15,"input",16),e.YNc(16,ue,3,0,"span",17),e.qZA(),e.TgZ(17,"button",18),e._uU(18," Send Reset Link "),e.YNc(19,ge,1,0,"mat-spinner",5),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.resetEmailForm),e.xp6(13),e.Q6J("ngClass",e.VKq(5,I,t.resetEmailForm.controls.email.hasError("required")&&!t.resetEmailForm.controls.email.valid&&t.resetEmailForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",t.recordFound),e.xp6(1),e.Q6J("disabled",!t.resetEmailForm.valid),e.xp6(2),e.Q6J("ngIf",t.isBusy)}}function pe(n,i){1&n&&(e.TgZ(0,"mat-icon",31),e._uU(1,"check_circle"),e.qZA())}function _e(n,i){1&n&&(e.TgZ(0,"mat-icon",32),e._uU(1,"cancel"),e.qZA())}function de(n,i){1&n&&(e.TgZ(0,"mat-icon",31),e._uU(1,"check_circle"),e.qZA())}function he(n,i){1&n&&(e.TgZ(0,"mat-icon",32),e._uU(1,"cancel"),e.qZA())}function fe(n,i){1&n&&(e.TgZ(0,"mat-icon",31),e._uU(1,"check_circle"),e.qZA())}function Ze(n,i){1&n&&(e.TgZ(0,"mat-icon",32),e._uU(1,"cancel"),e.qZA())}function Te(n,i){1&n&&(e.TgZ(0,"mat-icon",31),e._uU(1,"check_circle"),e.qZA())}function ve(n,i){1&n&&(e.TgZ(0,"mat-icon",32),e._uU(1,"cancel"),e.qZA())}function ye(n,i){if(1&n&&(e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.YNc(2,pe,2,0,"mat-icon",27),e.YNc(3,_e,2,0,"mat-icon",28),e.TgZ(4,"span",29),e._uU(5,"Password should contain 8 characters or more"),e.qZA(),e.qZA(),e.TgZ(6,"div",26),e.YNc(7,de,2,0,"mat-icon",27),e.YNc(8,he,2,0,"mat-icon",28),e.TgZ(9,"span",29),e._uU(10,"Password should contain at least one upper case character"),e.qZA(),e.qZA(),e.TgZ(11,"div",26),e.YNc(12,fe,2,0,"mat-icon",27),e.YNc(13,Ze,2,0,"mat-icon",28),e.TgZ(14,"span",29),e._uU(15,"Password should contain at least a number"),e.qZA(),e.qZA(),e.TgZ(16,"div",30),e.YNc(17,Te,2,0,"mat-icon",27),e.YNc(18,ve,2,0,"mat-icon",28),e.TgZ(19,"span",29),e._uU(20,"Password should contain at least one special character"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.validatePassword.length>=8),e.xp6(1),e.Q6J("ngIf",t.validatePassword.length<8),e.xp6(4),e.Q6J("ngIf",!t.upperCaseChar),e.xp6(1),e.Q6J("ngIf",t.upperCaseChar),e.xp6(4),e.Q6J("ngIf",t.numberChar),e.xp6(1),e.Q6J("ngIf",!t.numberChar),e.xp6(4),e.Q6J("ngIf",t.specialChar),e.xp6(1),e.Q6J("ngIf",!t.specialChar)}}function Ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA()}}function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function xe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA()}}function Ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function qe(n,i){1&n&&(e.TgZ(0,"mat-error",34),e._uU(1," Passwords do not match "),e.qZA())}function be(n,i){1&n&&e._UZ(0,"mat-spinner")}function ke(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e.TgZ(2,"form",11),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onResetPassword()}),e.TgZ(3,"div",12),e.TgZ(4,"h2"),e._uU(5,"Enter Your "),e._UZ(6,"br"),e._uU(7,"New Password"),e.qZA(),e.qZA(),e.YNc(8,ye,21,8,"div",20),e.TgZ(9,"div",15),e.TgZ(10,"label"),e._uU(11,"Password"),e.qZA(),e.TgZ(12,"input",21),e.NdJ("input",function(){e.CHM(t);const s=e.oxw();return s.checkPassword(s.passwordTrueValue)}),e.qZA(),e.YNc(13,Ce,3,0,"span",22),e.YNc(14,we,3,0,"span",22),e.qZA(),e.TgZ(15,"div",15),e.TgZ(16,"label"),e._uU(17,"Confirm Password"),e.qZA(),e._UZ(18,"input",23),e.YNc(19,xe,3,0,"span",22),e.YNc(20,Ae,3,0,"span",22),e.YNc(21,qe,2,0,"mat-error",24),e.qZA(),e.TgZ(22,"button",18),e._uU(23," Reset Password "),e.YNc(24,be,1,0,"mat-spinner",5),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.resetPasswordForm),e.xp6(6),e.Q6J("ngIf",t.validatePassword),e.xp6(4),e.Q6J("type",t.show?"text":"password")("ngClass",e.VKq(13,I,t.resetPasswordForm.controls.password.hasError("required")&&t.resetPasswordForm.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(4),e.Q6J("type",t.show?"text":"password")("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(1),e.Q6J("ngIf",t.resetPasswordForm.hasError("notSame")&&t.resetPasswordForm.controls.password_confirmation.touched),e.xp6(1),e.Q6J("disabled",!t.resetPasswordForm.valid),e.xp6(2),e.Q6J("ngIf",t.isBusy)}}let J=(()=>{class n{constructor(t,o,s,c,g,y){this.authService=t,this.route=o,this.router=s,this.fb=c,this.toastr=g,this._bottomSheet=y,this.showContentType=!1,this.show=!1,this.isBusy=!1,this.matcher=new U,this._validateCaps=x,this._hasNumber=A,this._checkForSpecialChars=q,this.resetEmailForm=new r.cw({}),this.resetPasswordForm=new r.cw({}),this.checkPasswordMatch=Z=>Z.get("password").value===Z.get("password_confirmation").value?null:{notSame:!0},this.resetEmailForm=this.fb.group({email:[null,[r.kI.required,r.kI.email]]}),this.resetPasswordForm=this.fb.group({email:[null],password:["",r.kI.required],password_confirmation:[],token:[null]},{validators:this.checkPasswordMatch})}ngOnInit(){this.getRoutes()}get emailValue(){return this.resetEmailForm.getRawValue()}get emailTrueValue(){return this.resetEmailForm.controls.email.value}get passwordValue(){return this.resetPasswordForm.getRawValue()}get passwordTrueValue(){return this.resetPasswordForm.controls.password.value}password(){this.show=!this.show}checkPassword(t){this.validatePassword=t,this.upperCaseChar=this._validateCaps(t),this.numberChar=this._hasNumber(t),this.specialChar=this._checkForSpecialChars(t)}getRoutes(){this.router.url.includes("reset-password")?(this.showContentType=!0,this.route.paramMap.subscribe(t=>{this.token=t.get("token")}),this.route.queryParamMap.subscribe(t=>{this.reset_email=t.get("email")})):this.showContentType=!1}navigate(t){this.router.navigate(["/onboarding/verify-email"],{queryParams:{query:t}})}onResetEmail(){this.isBusy=!0,this.resetEmailForm.invalid?this.isBusy=!1:this.resetEmailForm.valid&&this.authService.resetEmail(this.emailValue).subscribe(t=>{this.isBusy=!1,this.toastr.success(t.message,"Message"),this.openBottomSheet(this.emailTrueValue),this.resetEmailForm.reset()},()=>{this.isBusy=!1,this.toastr.error("Opps! Something went wrong, refresh page","Message")},()=>{this.isBusy=!1,this.resetEmailForm.reset()})}onResetPassword(){this.isBusy=!0,this.resetPasswordForm.invalid?this.isBusy=!1:(this.resetPasswordForm.patchValue({email:this.reset_email,token:this.token}),this.resetPasswordForm.valid&&this.authService.resetPassword(this.passwordValue).subscribe(t=>{this.isBusy=!1,this.toastr.success(t.message,"Message"),this.autoLogUserIn()},t=>{this.isBusy=!1,this.toastr.error(t,"Message")}))}autoLogUserIn(){this.authService.login({email:this.reset_email,password:this.passwordTrueValue}).subscribe(o=>{const{data:s}=o;"success"===o.status&&(this.toastr.success("Login successful","Message"),localStorage.setItem("token",o.access_token),localStorage.setItem("user_details",JSON.stringify(s)),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user_church",JSON.stringify(o.data.memberships[0])),null!==o.data.email_verified_at&&o.data.email_verified_at?this.router.navigate(["/onboarding/login"]):this.navigate(o.data.email))},o=>{this.toastr.error(o,"Message"),this.isBusy=!1},()=>{this.isBusy=!1})}openBottomSheet(t){this._bottomSheet.open(b,{data:{data:t,type:"reset_link"}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e),e.Y36(l.gz),e.Y36(l.F0),e.Y36(r.qu),e.Y36(m._W),e.Y36(f.ch))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"auth"],[1,"grid","grid--1fr--2fr"],[1,"container"],[1,"d-flex","w-400","pt-5"],["routerLink","/",1,"return-link"],[4,"ngIf"],[1,"banner"],[1,"center"],["routerLink","/"],["src","assets/img/png/light-logo.png","alt","logo"],[1,"form-wrap","w-400"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","mb-3"],[1,"f12","txt-grey"],["routerLink","/onboarding/login"],[1,"input"],["type","email","placeholder","Enter email","formControlName","email",3,"ngClass"],["class","toggle-btn txt-grey green",4,"ngIf"],["type","submit","mat-flat-button","",1,"w-100",3,"disabled"],[1,"toggle-btn","txt-grey","green"],["class","panel mb-3 p-3",4,"ngIf"],["placeholder","Enter password","formControlName","password",3,"type","ngClass","input"],["class","toggle-btn txt-grey",3,"click",4,"ngIf"],["formControlName","password_confirmation","placeholder","Confirm password",3,"type","errorStateMatcher"],["class","f12 my-2",4,"ngIf"],[1,"panel","mb-3","p-3"],[1,"d-flex","align-items-center","mb-2"],["class","txt-green",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"f12","text-grey","ms-2"],[1,"d-flex","align-items-center"],[1,"txt-green"],[1,"text-danger"],[1,"toggle-btn","txt-grey",3,"click"],[1,"f12","my-2"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"a",4),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_backspace"),e.qZA(),e._uU(7,"Home Page"),e.qZA(),e.qZA(),e.YNc(8,me,20,7,"ng-container",5),e.YNc(9,ke,25,15,"ng-container",5),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"a",8),e._UZ(13,"img",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngIf",!o.showContentType),e.xp6(1),e.Q6J("ngIf",o.showContentType))},directives:[l.yS,_.Hw,u.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,u.mk,d.lW,h.Ou,k.TO],styles:[".panel[_ngcontent-%COMP%]{padding:.5em;border-radius:10px;background:#fff;transition:.5s ease-in-out;box-shadow:0 1px 15px 2px #e0e0e0}"]}),n})();var Ue=a(4107),Ie=a(8908);function Je(n,i){if(1&n&&(e.TgZ(0,"div",19),e.TgZ(1,"span",20),e._uU(2),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.recordMsg)}}function Se(n,i){1&n&&(e.TgZ(0,"span",21),e.TgZ(1,"mat-icon"),e._uU(2,"check_circle"),e.qZA(),e.qZA())}function Ne(n,i){1&n&&e._UZ(0,"mat-spinner")}function Fe(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().validateEmail()}),e._uU(2," Verify "),e.YNc(3,Ne,1,0,"mat-spinner",14),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.form.controls.email.valid),e.xp6(2),e.Q6J("ngIf",t.isBusy)}}function Pe(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",23),e.TgZ(2,"p",24),e._uU(3," No record found: "),e.TgZ(4,"a",9),e._uU(5,"Signup here"),e.qZA(),e.qZA(),e.qZA(),e.BQk())}function Ye(n,i){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.church),e.xp6(1),e.Oqu(t.church.name)}}function Qe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"label"),e._uU(2,"Select Church"),e.qZA(),e.TgZ(3,"mat-select",32),e.NdJ("selectionChange",function(s){return e.CHM(t),e.oxw(2).onChurchSelect(s)}),e.TgZ(4,"mat-option",33),e._uU(5," Select church "),e.qZA(),e.YNc(6,Ye,2,2,"mat-option",34),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.recordData.memberships)}}function Ee(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility_off"),e.qZA(),e.qZA()}}function Me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).password()}),e.TgZ(1,"mat-icon"),e._uU(2,"visibility"),e.qZA(),e.qZA()}}function Le(n,i){1&n&&e._UZ(0,"mat-spinner")}const S=function(n){return{"is-invalid":n}};function Be(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,Qe,7,1,"div",25),e.TgZ(2,"div",11),e.TgZ(3,"label"),e._uU(4,"Password"),e.qZA(),e._UZ(5,"input",26),e.YNc(6,Ee,3,0,"span",27),e.YNc(7,Me,3,0,"span",27),e.qZA(),e.TgZ(8,"div",28),e.TgZ(9,"mat-checkbox",29),e._uU(10,"Stay signed in"),e.qZA(),e.TgZ(11,"a",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearStorage()}),e._uU(12,"Reset password"),e.qZA(),e.qZA(),e.TgZ(13,"button",31),e._uU(14," Login "),e.YNc(15,Le,1,0,"mat-spinner",14),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0!==t.recordData.memberships.length),e.xp6(4),e.Q6J("type",t.show?"text":"password")("ngClass",e.VKq(8,S,t.form.controls.password.hasError("required")&&t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(2),e.Q6J("checked",t.isChecked),e.xp6(4),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.Q6J("ngIf",t.isBusy)}}let Oe=(()=>{class n{constructor(t,o,s,c){this.authServ=t,this.toastr=o,this.fb=s,this.router=c,this.show=!1,this.isBusy=!1,this.validate=!1,this.recordFound=!1,this.isChecked=!0,this.form=new r.cw({}),this.form=this.fb.group({email:["",[r.kI.email,r.kI.required]],password:["",r.kI.required]})}ngOnInit(){}get value(){return this.form.getRawValue()}get emailCtrInstance(){return this.form.get("email")}password(){this.show=!this.show}onChurchSelect(t){this.selectedChurch=t.value}clearStorage(){localStorage.clear()}resetControl(){"INVALID"==this.emailCtrInstance.status&&(this.recordFound=!1)}validateEmail(){this.isBusy=!0,this.authServ.resolveUser({email:this.emailCtrInstance.value}).subscribe(({message:o,data:s})=>{this.isBusy=!1,0==s.length?(this.recordData=s,this.toastr.error(o,"Message",{timeOut:3e3})):(this.recordFound=!0,this.recordData=s,this.recordMsg=o,0!==this.recordData.memberships.length&&this.toastr.info(o,"Message",{timeOut:3e3}))},()=>{this.isBusy=!1,this.recordFound=!1})}navigate(t){this.router.navigate(["/onboarding/verify-email"],{queryParams:{query:t}})}onSubmit(){this.isBusy=!0,this.form.valid&&this.authServ.login(this.value).subscribe(t=>{const{data:o}=t;"success"===t.status&&(this.recordFound=!1,this.toastr.success("Login successful","Message"),this.form.reset(),localStorage.setItem("token",t.access_token),localStorage.setItem("user_details",JSON.stringify(o)),localStorage.setItem("isLoggedIn","true"),this.selectedChurch&&localStorage.setItem("user_church",this.selectedChurch),(null===t.data.email_verified_at||!t.data.email_verified_at)&&this.navigate(t.data.email),null!==t.data.email_verified_at&&!this.selectedChurch&&this.router.navigateByUrl("get-started/pricing"))},t=>{this.toastr.error(t,"Message"),this.isBusy=!1},()=>{this.isBusy=!1,this.form.reset()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e),e.Y36(m._W),e.Y36(r.qu),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:9,consts:[[1,"auth"],[1,"grid","grid--1fr--2fr"],[1,"container"],[1,"d-flex","w-400","pt-5"],["routerLink","/",1,"return-link"],[1,"form-wrap","w-400"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","mb-3"],[1,"f12","txt-grey"],["routerLink","/onboarding/register"],["class","panel mb-3",4,"ngIf"],[1,"input"],["type","email","placeholder","Enter email","formControlName","email",3,"ngClass","input"],["class","toggle-btn txt-grey green",4,"ngIf"],[4,"ngIf"],[1,"banner"],[1,"center"],["routerLink","/"],["src","assets/img/png/light-logo.png","alt","logo"],[1,"panel","mb-3"],[1,"f12","txt-green"],[1,"toggle-btn","txt-grey","green"],["type","submit","mat-stroked-button","",1,"w-100",3,"disabled","click"],[1,"d-flex","my-3"],[1,"f12","text-danger"],["class","input",4,"ngIf"],["placeholder","Enter password","formControlName","password",3,"type","ngClass"],["class","toggle-btn txt-grey",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","my-4"],[3,"checked"],["routerLink","/onboarding/forgot-password",1,"f12",3,"click"],["type","submit","mat-flat-button","",1,"w-100",3,"disabled"],["placeholder","Connect to church",1,"select",3,"selectionChange"],["disabled","","selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"toggle-btn","txt-grey",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"a",4),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_backspace"),e.qZA(),e._uU(7,"Home Page"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"form",6),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(10,"div",7),e.TgZ(11,"h2"),e._uU(12,"Log Back Into "),e._UZ(13,"br"),e._uU(14,"Your Account"),e.qZA(),e.TgZ(15,"p",8),e._uU(16," I don\u2019t have an account yet. "),e.TgZ(17,"a",9),e._uU(18,"GET STARTED"),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,Je,3,1,"div",10),e.TgZ(20,"div",11),e.TgZ(21,"label"),e._uU(22,"Email Address"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("input",function(){return o.resetControl()}),e.qZA(),e.YNc(24,Se,3,0,"span",13),e.qZA(),e.YNc(25,Fe,4,2,"ng-container",14),e.YNc(26,Pe,6,0,"ng-container",14),e.YNc(27,Be,16,10,"ng-container",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",15),e.TgZ(29,"div",16),e.TgZ(30,"a",17),e._UZ(31,"img",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(10),e.Q6J("ngIf",o.recordData&&o.recordFound&&0!==o.recordData.memberships.length),e.xp6(4),e.Q6J("ngClass",e.VKq(7,S,o.form.controls.email.hasError("required")&&!o.form.controls.email.valid&&o.form.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",o.recordFound),e.xp6(1),e.Q6J("ngIf",!o.recordFound),e.xp6(1),e.Q6J("ngIf",o.recordData&&0==o.recordData.length),e.xp6(1),e.Q6J("ngIf",o.recordFound))},directives:[l.yS,_.Hw,r._Y,r.JL,r.sg,u.O5,r.Fj,r.JJ,r.u,u.mk,d.lW,h.Ou,T.oG,Ue.gD,Ie.ey,u.sg],styles:[""]}),n})();var Re=a(5435);function Ve(n,i){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"p",6),e._uU(2," We sent a verification email to "),e.TgZ(3,"span",16),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",17),e.TgZ(6,"p",18),e._uU(7," Please check your email to confirm your account and complete your account creation process. "),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.hij("",t.queryString,",")}}function He(n,i){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"p",18),e._uU(2,"You have not verified your email."),e.qZA(),e.TgZ(3,"p",18),e._uU(4," Please check your email to confirm your account or click on the text below to resend the verification link "),e.qZA(),e.qZA())}function De(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p",19),e._uU(1," Didn\u2019t get the email? "),e.TgZ(2,"a",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().resend()}),e._uU(3," Resend it"),e.qZA(),e.qZA()}}function We(n,i){1&n&&(e.TgZ(0,"p",21),e._uU(1," Sending another email... "),e.qZA())}const Ge=[{path:"",component:F,children:[{path:"api/email/verify/:*/:*",component:M,data:{title:"ChurchVest - Account Verification"}},{path:"login",component:Oe,data:{title:"ChurchVest - Login"}},{path:"forgot-password",component:J,data:{title:"ChurchVest - Forgot Password"}},{path:"register",component:le,data:{title:"ChurchVest - Create Account"}},{path:"reset-password/:token",component:J,data:{title:"ChurchVest - Reset Your Password"}},{path:"verify-email",component:(()=>{class n{constructor(t,o,s,c){this.authService=t,this.route=o,this.router=s,this._bottomSheet=c,this.loading=!1}ngOnInit(){this.getRoutes(),this.token=localStorage.getItem("token")}getRoutes(){this.route.queryParams.pipe((0,Re.h)(t=>t.query)).subscribe(t=>{this.queryString=t.query}),""===this.queryString&&this.router.navigate(["/onboarding/register"])}resend(){this.loading=!0,this.authService.resendVerificationEmail().subscribe(t=>{this.loading=!1,"success"===t.status&&this.openBottomSheet()},()=>{this.loading=!1})}openBottomSheet(){this._bottomSheet.open(b,{data:{data:this.queryString,type:"verification_link"}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.e),e.Y36(l.gz),e.Y36(l.F0),e.Y36(f.ch))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify-email"]],decls:23,vars:4,consts:[[1,"auth"],[1,"grid","grid--1fr--2fr"],[1,"container"],[1,"d-flex","w-450","pt-5"],["routerLink","/",1,"return-link"],[1,"content","w-450","mt-5","d-flex","flex-column"],[1,"txt-grey","my-2"],[1,"my-3"],["src","assets/img/svg/mail.svg","alt","mail"],[4,"ngIf"],["class","txt-grey d-flex",4,"ngIf"],["class","f12 txt-grey",4,"ngIf"],[1,"banner"],[1,"center"],["routerLink","/"],["src","assets/img/png/light-logo.png","alt","logo"],[1,"f12","text-success"],[1,"my-5"],[1,"txt-grey"],[1,"txt-grey","d-flex"],[1,"ms-2","cursor",3,"click"],[1,"f12","txt-grey"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"a",4),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_backspace"),e.qZA(),e._uU(7,"Home Page"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"h2"),e._uU(10,"Verify Your Account"),e.qZA(),e.TgZ(11,"p",6),e._uU(12,"Hello there, welcome to Churchvest!"),e.qZA(),e.TgZ(13,"div",7),e._UZ(14,"img",8),e.qZA(),e.YNc(15,Ve,8,1,"div",9),e.YNc(16,He,5,0,"div",9),e.YNc(17,De,4,0,"p",10),e.YNc(18,We,2,0,"p",11),e.qZA(),e.qZA(),e.TgZ(19,"div",12),e.TgZ(20,"div",13),e.TgZ(21,"a",14),e._UZ(22,"img",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngIf",!o.token),e.xp6(1),e.Q6J("ngIf",o.token),e.xp6(1),e.Q6J("ngIf",o.token&&!o.loading),e.xp6(1),e.Q6J("ngIf",o.token&&o.loading))},directives:[l.yS,_.Hw,u.O5],styles:[".grid[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:0 auto}.grid[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;color:#080730;font-weight:300;font-size:48px}.grid[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{position:relative;background:url(/assets/img/png/keyboard-keys.png);background-position:center}"]}),n})(),data:{title:"ChurchVest - Email Verification"}},{path:"",redirectTo:"login"}]}];let Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.Bz.forChild(Ge)],l.Bz]}),n})();var N=a(566);let ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:m._W}],imports:[[u.ez,Ke,N.h,N.h,r.UX,r.u5,m.Rh.forRoot()]]}),n})()}}]);