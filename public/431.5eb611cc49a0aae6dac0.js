"use strict";(self.webpackChunkchurchvest_v2=self.webpackChunkchurchvest_v2||[]).push([[431],{6314:(Z,c,i)=>{i.d(c,{a:()=>t});var g=i(8583),l=i(7716);let t=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[[g.ez]]}),r})()},3431:(Z,c,i)=>{i.r(c),i.d(c,{SettingsModule:()=>q});var g=i(8583),l=i(4655),t=i(7716),r=i(7556),p=i(2290),u=i(3251),v=i(5245),C=i(7423),A=i(773);function M(e,a){1&e&&t._UZ(0,"mat-spinner")}const O=function(e){return{background:e}};let T=(()=>{class e{constructor(n,o,s){this.authService=n,this.toastr=o,this.imgUp=s,this.isBusy=!1}ngOnInit(){this.userData=this.authService.getUserData(),this.churchData=JSON.parse(localStorage.getItem("user_church")),this.profileImg=this.userData.memberships.filter(n=>n.id==this.userData.id),console.log(this.churchData)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.e),t.Y36(p._W),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-overview"]],decls:60,vars:11,consts:[[1,"bg-white","px-4","py-3"],[1,"grid"],["animationDuration","0.5ms",1,"py-4"],["label","Profile Settings"],[1,"profile","py-3","px-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"avater","d-flex","align-items-center","mb-4"],["type","file","name","file","hidden","",3,"change"],["uploadAvatar",""],[1,"image",3,"ngStyle"],["uploadedAvatar",""],[3,"click"],["type","button","mat-stroked-button","",3,"click"],[1,"me-2"],[4,"ngIf"],[1,"section"],[1,"row"],[1,"col-lg-4"],[1,"col-lg-8"],[1,"d-flex"],["label","Church Settings"]],template:function(n,o){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-tab-group",2),t.TgZ(3,"mat-tab",3),t.TgZ(4,"section",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"input",7,8),t.NdJ("change",function(d){t.CHM(s);const I=t.MAs(10);return o.imgUp.changeImageUploadListener(d,I)}),t.qZA(),t.TgZ(9,"div",9,10),t.TgZ(11,"span"),t.TgZ(12,"mat-icon",11),t.NdJ("click",function(){t.CHM(s);const d=t.MAs(8);return o.imgUp.addAvatar(d)}),t._uU(13,"edit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"p"),t._uU(16,"Profile Photo "),t.TgZ(17,"span"),t._uU(18,"Click image to change it"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"button",12),t.NdJ("click",function(){return o.imgUp.updateProfileImg()}),t.TgZ(20,"mat-icon",13),t._uU(21,"account_circle"),t.qZA(),t._uU(22," Update Profile "),t.YNc(23,M,1,0,"mat-spinner",14),t.qZA(),t.qZA(),t.TgZ(24,"div",15),t.TgZ(25,"div",16),t.TgZ(26,"div",17),t.TgZ(27,"p"),t._uU(28," Full Name "),t.TgZ(29,"span"),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",18),t.TgZ(32,"div",19),t.TgZ(33,"p"),t._uU(34," Phone number "),t.TgZ(35,"span"),t._uU(36),t.qZA(),t.qZA(),t.TgZ(37,"p"),t._uU(38," Email address "),t.TgZ(39,"span"),t._uU(40),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"mat-tab",20),t.TgZ(42,"section",4),t.TgZ(43,"div",15),t.TgZ(44,"div",16),t.TgZ(45,"div",17),t.TgZ(46,"p"),t._uU(47," Church Name "),t.TgZ(48,"span"),t._uU(49),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",18),t.TgZ(51,"div",19),t.TgZ(52,"p"),t._uU(53," Church Location "),t.TgZ(54,"span"),t._uU(55),t.qZA(),t.qZA(),t.TgZ(56,"p"),t._uU(57," Church Address "),t.TgZ(58,"span"),t._uU(59),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&n&&(t.xp6(9),t.Q6J("ngStyle",t.VKq(9,O,null!=o.profileImg[0]&&o.profileImg[0].profile?"url("+(null==o.profileImg[0]?null:o.profileImg[0].profile)+")":"url(assets/img/png/avatar.png)")),t.xp6(14),t.Q6J("ngIf",o.imgUp.isBusy),t.xp6(7),t.AsE("",o.userData.first_name," ",o.userData.last_name,""),t.xp6(6),t.hij("",o.userData.phone,"1"),t.xp6(4),t.Oqu(o.userData.email),t.xp6(9),t.Oqu(o.churchData.name),t.xp6(6),t.Oqu(o.churchData.location),t.xp6(4),t.Oqu(o.churchData.address))},directives:[u.SP,u.uX,g.PC,v.Hw,C.lW,g.O5,A.Ou],styles:[".profile[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;position:relative;background-repeat:no-repeat!important;background-size:cover!important;background-position:50%!important}.profile[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;position:absolute;right:13px;bottom:0;width:29px;height:28px;border-radius:5px;background:rgba(7,20,40,.7);cursor:pointer}.profile[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 1.5em;font-size:16px;color:#071428}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:12px;color:#463e79}.profile[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{background:#f9f9f9;padding:2em;border-radius:5px;margin-bottom:2em}.profile[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#afafaf;font-size:14px;margin:0;width:-moz-fit-content;width:fit-content}.profile[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-right:5em}.profile[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{margin-bottom:2em}"]}),e})(),f=(()=>{class e{constructor(n,o,s){this.toastr=n,this.authService=o,this.renderer=s,this.isBusy=!1}ngOnInit(){}ngAfterViewInit(){}changeImageUploadListener(n,o){if(this.fileImage=n.target.files[0],this.fileImage){var s=new FileReader;s.onloadend=m=>{n.target.files[0].size/1024/1024>5?this.toastr.info("File size should be less than 5MB","Message"):"image/jpeg"==this.fileImage.type||"image/png"==this.fileImage.type?(this.renderer.setStyle(o,"background",`url(${m.target.result})`),this.toastr.success("File successfully added","Message")):this.toastr.error("File type not supported, only jpeg and png file is allowed","Message")},s.readAsDataURL(this.fileImage)}}updateProfileImg(){this.isBusy=!0;const n=new FormData;n.append("profile",this.fileImage),this.authService.updateProfile(n).subscribe(({message:o})=>{this.toastr.success(o,"Message"),this.isBusy=!1},o=>{this.isBusy=!1,this.toastr.error(o,"Message",{timeOut:3e3})},()=>{this.isBusy=!1})}addAvatar(n){n.click()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p._W),t.Y36(r.e),t.Y36(t.Qsj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],inputs:{setImageFile:"setImageFile"},decls:0,vars:0,template:function(n,o){},encapsulation:2}),e})();const _=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-settings"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),e})(),children:[{path:"profile-settings",component:T}]}];let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(_)],l.Bz]}),e})();var y=i(8097),h=i(3679),U=i(6314);let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[f],imports:[[g.ez,P,y.h,h.UX,h.u5,U.a]]}),e})()}}]);