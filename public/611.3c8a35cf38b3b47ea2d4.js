"use strict";(self.webpackChunkchurchvest_v2=self.webpackChunkchurchvest_v2||[]).push([[611],{2118:(M,u,r)=>{r.d(u,{m:()=>v});var s=r(7716);let v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-loading-roller"]],decls:14,vars:0,consts:[[1,"d-flex","align-items-center","flex-column","my-5"],[1,"lds-default"]],template:function(p,h){1&p&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s._UZ(2,"div"),s._UZ(3,"div"),s._UZ(4,"div"),s._UZ(5,"div"),s._UZ(6,"div"),s._UZ(7,"div"),s._UZ(8,"div"),s._UZ(9,"div"),s._UZ(10,"div"),s._UZ(11,"div"),s._UZ(12,"div"),s._UZ(13,"div"),s.qZA(),s.qZA())},styles:[".mw-450[_ngcontent-%COMP%]{min-width:450px}"]}),t})()},6314:(M,u,r)=>{r.d(u,{a:()=>t});var s=r(8583),v=r(7716);let t=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=v.oAB({type:d}),d.\u0275inj=v.cJS({imports:[[s.ez]]}),d})()},9611:(M,u,r)=>{r.r(u),r.d(u,{ActivityModule:()=>q});var s=r(8583),v=r(4655),t=r(7716),d=r(8002),p=r(5304),h=r(2592),O=r(2340),T=r(1841),A=r(7556);let b=(()=>{class i{constructor(n,a){this.http=n,this.authService=a,this.authService.getChurchSlug()}fetchSummary(){return this.http.get(O.N.managementbaseUrl+`/${this.authService.getChurchSlug()}/summary`).pipe((0,d.U)(n=>n),(0,p.K)(h.S))}}return i.\u0275fac=function(n){return new(n||i)(t.LFG(T.eN),t.LFG(A.e))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var P=r(7423),_=r(5245),F=r(2550),Z=r(2118),w=r(5086);const S=["scrollItems"];function U(i,c){1&i&&(t.ynx(0),t._UZ(1,"app-loading-roller"),t.BQk())}function E(i,c){if(1&i&&(t.TgZ(0,"div",10),t.TgZ(1,"div",12),t._UZ(2,"img",13),t.TgZ(3,"div",14),t.TgZ(4,"span"),t.TgZ(5,"mat-icon"),t._uU(6,"more_horiz"),t.qZA(),t.qZA(),t.TgZ(7,"mat-menu",null,15),t.TgZ(9,"button",16),t._uU(10," View all "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"label",17),t._uU(12),t.qZA(),t.TgZ(13,"label",18),t._uU(14),t.qZA(),t.qZA()),2&i){const n=c.$implicit,a=t.MAs(8);t.xp6(2),t.Q6J("src","assets/img/svg/"+n.icon+".svg",t.LSH),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(6),t.Q6J("routerLink",n.url),t.xp6(3),t.Oqu(n.count),t.xp6(2),t.Oqu(n.title)}}let L=(()=>{class i{constructor(n){this.summaryService=n,this._loading_=!1,this.activitiesItems=[]}ngOnInit(){this.getSummary()}scrollRight(){this.scrollItems.nativeElement.scrollTo({left:this.scrollItems.nativeElement.scrollLeft+400,behavior:"smooth"})}scrollLeft(){this.scrollItems.nativeElement.scrollTo({left:this.scrollItems.nativeElement.scrollLeft-400,behavior:"smooth"})}getSummary(){this._loading_=!0,this.summaryService.fetchSummary().subscribe(n=>{this._loading_=!1;const{summary:a}=n.data;this.getActivitySummary(a)},()=>{this._loading_=!1})}getActivitySummary(n){return this.activitiesItems=[{title:"Regular Members",url:"/portal/people/members",count:n.regular_members,icon:"plus-heart"},{title:"New Departments",url:"/portal/department",count:n.departments,icon:"square-add"},{title:"Events",url:"/portal/events",count:n.events,icon:"events-icon"},{title:"Fellowships",url:"/portal/people/house-fellowship",count:n.fellowships,icon:"hand_with_love"},{title:"Reconciled",url:"",count:"0",icon:"reconciliation"}]}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-stats-overview"]],viewQuery:function(n,a){if(1&n&&t.Gf(S,5),2&n){let g;t.iGM(g=t.CRH())&&(a.scrollItems=g.first)}},decls:18,vars:2,consts:[[1,"stats-overview"],[1,"d-flex","justify-content-end","mb-res"],["mat-mini-fab","",1,"me-2","white-bg",3,"click"],["mat-mini-fab","",1,"white-bg",3,"click"],[1,"card--list--wrap"],["scrollItems",""],[4,"ngIf"],[1,"items-wrap"],["class","card",4,"ngFor","ngForOf"],[1,"transactions"],[1,"card"],[1,"title-sm","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],["alt","people",1,"icon",3,"src"],[1,"cursor",3,"matMenuTriggerFor"],["menu","matMenu"],["type","button","mat-menu-item","",3,"routerLink"],[1,"title-lg"],[1,"f14","txt-grey"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return a.scrollLeft()}),t.TgZ(3,"mat-icon"),t._uU(4,"navigate_before"),t.qZA(),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return a.scrollRight()}),t.TgZ(6,"mat-icon"),t._uU(7,"navigate_next"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",4,5),t.YNc(10,U,2,0,"ng-container",6),t.TgZ(11,"div",7),t.YNc(12,E,15,5,"div",8),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t._uU(16,"Pending Transactions"),t.qZA(),t._UZ(17,"app-empty-state"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(10),t.Q6J("ngIf",a._loading_),t.xp6(2),t.Q6J("ngForOf",a.activitiesItems))},directives:[P.lW,_.Hw,s.O5,s.sg,F.s,Z.m,w.p6,w.VK,w.OP,v.rH],styles:[".stats-overview{position:relative;width:800px}  .stats-overview .mat-mini-fab.mat-accent.white-bg{background:none;box-shadow:none}  .stats-overview .mat-mini-fab.mat-accent.white-bg mat-icon{color:#000}  .stats-overview .mat-mini-fab.mat-accent.white-bg:hover{background:white;box-shadow:0 1px 15px 2px #d2daf5}  .stats-overview .card--list--wrap{overflow:hidden}  .stats-overview .card--list--wrap .items-wrap{padding:1em 0 1.5em;flex-wrap:nowrap;display:flex;align-items:flex-start;justify-content:center;margin:0 auto;width:1369px}  .stats-overview .card--list--wrap .card{padding:1em;width:258px;height:188px;margin:.5em;border:none;border-radius:10px;box-shadow:0 1px 15px 2px #d2daf5}  .stats-overview .card--list--wrap .card .title-lg{font-size:40px}  .stats-overview .card--list--wrap .card label.txt-grey{width:35%}  .stats-overview .card--list--wrap .card .icon{width:50px}  .stats-overview .transactions .card{background:#ffffff6b;border-radius:10px;border:none;box-shadow:0 1px 3px #fff;padding:1em}  .stats-overview .transactions .card .item{padding:1em;border-radius:10px;transition:.3s ease-in}  .stats-overview .transactions .card .item .icon{background:#cdd7fa;border-radius:8px;padding:.3em}  .stats-overview .transactions .card .item .icon mat-icon{color:#fff}  .stats-overview .transactions .card .item label{width:150px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}  .stats-overview .transactions .card .item label:last-child{width:-moz-fit-content;width:fit-content}  .stats-overview .transactions .card .item:hover{background:#fff}  .stats-overview .transactions .card .item:hover label{color:#463e79;transition:.3s ease-in}  .stats-overview .transactions .card .item:last-child{margin-bottom:0}@media only screen and (min-width: 320px) and (max-width: 991px){  .stats-overview{width:auto}  .stats-overview .mb-res{display:none!important}  .stats-overview .card--list--wrap{overflow:visible}  .stats-overview .card--list--wrap .items-wrap{width:auto;justify-content:flex-start;flex-direction:column}  .stats-overview .card--list--wrap .card{width:100%;margin:0 0 1em}  .stats-overview .transactions .card{display:none!important}}"]}),i})();var e=r(3974),o=r(1356);function l(i,c){1&i&&(t.ynx(0),t._UZ(1,"app-loading-roller"),t.BQk())}function m(i,c){1&i&&(t.ynx(0),t.TgZ(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"p",5),t._uU(4,"No upcoming events"),t.qZA(),t.qZA(),t.BQk())}function y(i,c){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"mat-icon"),t._uU(3,"receipt"),t.qZA(),t.qZA(),t.TgZ(4,"label"),t._uU(5),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&i){const n=c.$implicit,a=t.oxw(2);t.xp6(5),t.hij("",n.name," "),t.xp6(2),t.hij("",a.getEventDay(null==n?null:n.start_date)," "),t.xp6(2),t.hij(" ",a.isEventMonth(n.start_date)," ")}}function f(i,c){if(1&i&&(t.ynx(0),t.TgZ(1,"div",6),t.YNc(2,y,10,3,"div",7),t.qZA(),t.BQk()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.eventList)}}let x=(()=>{class i{constructor(n){this.eventsService=n,this.eventList=[],this._loading=!1,this.pageSize=50,this.currentPage=0,this._monthList=e.xU,this._checkForEventMonth=e.gt}ngOnInit(){this.getEvent()}getEventDay(n){let a=new Date(n),g={month:this._monthList()[a.getMonth()],day:a.getDate()};return[g.month,g.day]}isEventMonth(n){let a=this._checkForEventMonth(n);return 365==a?"Today is event!":`${a} ${a>1?"days":"day"} to event!`}getEvent(){this._loading=!0,this.eventList=[],this.eventsService.fetchAllEvents(this.currentPage+1).subscribe(n=>{this._loading=!1;const{data:a}=n;this.eventList=a;let g=(new Date).getDate(),I=(new Date).getMonth()+1;this.eventList=a.filter(C=>C.start_date.split(/[- :]/)[2]>=g&&I==C.start_date.split(/[- :]/)[1]||C.start_date.split(/[- :]/)[2]<g&&I<C.start_date.split(/[- :]/)[1])},n=>{n&&(this._loading=!1,this.eventList=[])})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(o.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-events"]],decls:6,vars:3,consts:[[1,"event-list-wrap"],[1,"title-sm"],[4,"ngIf"],[1,"empty-state","d-flex","flex-column","justify-content-center","align-items-center"],["src","assets/img/png/no-event.png","alt","no-event"],[1,"f12","txt-grey","mt-2"],[1,"list--items"],["class","item d-flex align-items-center",4,"ngFor","ngForOf"],[1,"item","d-flex","align-items-center"],[1,"icon","d-flex","align-items-center","me-2"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t._uU(2,"Upcoming Events"),t.qZA(),t.YNc(3,l,2,0,"ng-container",2),t.YNc(4,m,5,0,"ng-container",2),t.YNc(5,f,3,1,"ng-container",2),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",a._loading),t.xp6(1),t.Q6J("ngIf",!a._loading&&0==a.eventList.length),t.xp6(1),t.Q6J("ngIf",!a._loading&&a.eventList))},directives:[s.O5,Z.m,s.sg,_.Hw],styles:['.event-list-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1em;border-radius:10px;background:#ffffff;box-shadow:0 1px 15px 2px #fff;height:100%}.event-list-wrap[_ngcontent-%COMP%]   .list--items[_ngcontent-%COMP%]{margin:2em 0 3em}.event-list-wrap[_ngcontent-%COMP%]   .list--items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:1em}.event-list-wrap[_ngcontent-%COMP%]   .list--items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#cdd7fa;border-radius:8px;padding:.3em}.event-list-wrap[_ngcontent-%COMP%]   .list--items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.event-list-wrap[_ngcontent-%COMP%]   .list--items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}.event-list-wrap[_ngcontent-%COMP%]   .list--items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#0000004d;display:block}.event-list-wrap[_ngcontent-%COMP%]   .overdue-event[_ngcontent-%COMP%]{background:#e3e8f7;border-radius:10px;box-shadow:0 1px 3px 2px #fff;padding:1em}.event-list-wrap[_ngcontent-%COMP%]   .overdue-event[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;padding-left:.5em}.event-list-wrap[_ngcontent-%COMP%]   .overdue-event[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.event-list-wrap[_ngcontent-%COMP%]   .overdue-event[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"";position:absolute;width:7px;height:7px;background:#463e79;border-radius:50%;left:-7px;top:.5em}.event-list-wrap[_ngcontent-%COMP%]   .overdue-event[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#0000004d;margin:1em 0 0}.event-list-wrap[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}']}),i})();const k=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-activity"]],decls:7,vars:0,consts:[[1,"header","d-flex","align-items-center","justify-content-between","mb-4"],[1,"title"],[1,"grid","grid--2fr--1fr","grid-gap-30"]],template:function(n,a){1&n&&(t.TgZ(0,"section"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t._uU(3,"Activity"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"app-stats-overview"),t._UZ(6,"app-events"),t.qZA(),t.qZA())},directives:[L,x],styles:[""]}),i})()}];let J=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[v.Bz.forChild(k)],v.Bz]}),i})();var R=r(8824),N=r(6314),Q=r(1419);let q=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[s.ez,J,R.h,N.a,Q.P]]}),i})()},3974:(M,u,r)=>{r.d(u,{t:()=>d,p6:()=>p,SJ:()=>h,Yo:()=>O,aS:()=>T,vA:()=>A,sn:()=>b,kA:()=>P,Vz:()=>_,JT:()=>Z,gt:()=>w,xU:()=>S,gw:()=>U,EU:()=>E,WI:()=>L});const d=(e,o)=>(null==e?void 0:e.first_name)==(null==o?void 0:o.first_name)&&(null==e?void 0:e.id)==(null==o?void 0:o.id),p=e=>e.split("T")[0],h=e=>e==e.toLowerCase(),O=e=>/\d/.test(e),T=(e,o)=>e.length>o?e.slice(0,o)+"...":e,A=e=>!!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e),b=e=>{let o=document.getElementById(e).outerHTML;document.body.outerHTML="<html><head><title></title></head><body>"+o+"</body>",window.print(),document.location.reload()},P=e=>e.split(" ").join(""),_=(e,o)=>{o.map((l,m)=>(m==e-2&&(l.isCompleted=!0),m==e-1&&(l.isCompleted=!1),l.isCompleted))},Z=e=>{let o=new Date(e),l=new Date,m=l.getFullYear()+"-"+("0"+(l.getMonth()+1)).slice(-2)+"-"+("0"+l.getDate()).slice(-2);return""!==e&&void 0!==e&&(o.setDate(o.getDate()+1),m=o.toISOString().split("T")[0]),m},w=e=>{const o=e.split(/[- :]/);let y,f,x,D,l=o[1],m=o[2];return y=new Date,f=new Date(y.getFullYear(),l-1,m),y.getTime()>f.getTime()&&f.setFullYear(f.getFullYear()+1),x=f.getTime()-y.getTime(),D=Math.floor(x/864e5)+1,D},S=()=>["January","February","March","April","May","June","July","August","September","October","November","December"],U=()=>["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],E=e=>{e.target.value.length>e.target.maxLength&&(e.target.value=e.target.value.slice(0,e.target.maxLength))},L=()=>{const e=new Date;let o=String(e.getMonth()+1),l=String(e.getDate()),m=e.getFullYear();return parseInt(o,10)<10&&(o="0"+o.toString()),parseInt(l,10)<10&&(l="0"+l.toString()),`${m}-${o}-${l}`}}}]);